{% extends "base.html" %} {% block content %}

<h1>Chat History</h1>
<div class="container mt-5 pt-5">
  <h1 class="text-center mb-4">Chat History</h1>
  <div class="list-group">
    {% if user.is_authenticated %} {% if chats %} {% for chat in chats %}
    <div class="list-group-item p-4 mb-3 border rounded">
      <div class="d-flex justify-content-between">
        <h5 class="mb-1"><strong>You:</strong> {{ chat.message }}</h5>
        <small class="text-muted">{{ chat.timestamp }}</small>
      </div>
      <p class="mb-1"><strong>AI:</strong> {{ chat.response }}</p>
    </div>
    {% endfor %} {% else %}
    <p>No chat history available.</p>
    {% endif %} {% else %}
    <p>
      You must be logged in to view your chat history.
      <a href="{% url 'login' %}">Login here</a>
    </p>
    {% endif %}
  </div>
</div>

{% endblock content %}
